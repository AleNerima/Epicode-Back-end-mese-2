CREATE TABLE Clienti (
    IdCliente INT PRIMARY KEY IDENTITY,
    Nome NVARCHAR(100),
    Tipo NVARCHAR(50), -- Privato o Azienda
    CodiceFiscale NVARCHAR(16) NULL, -- NULL se Azienda
    PartitaIVA NVARCHAR(11) NULL -- NULL se Privato
);

CREATE TABLE Spedizioni (
    IdSpedizione INT PRIMARY KEY IDENTITY,
    Cliente INT FOREIGN KEY REFERENCES Clienti(IdCLiente),
    NumeroIdentificativo NVARCHAR(50),
    DataSpedizione DATETIME,
    Peso DECIMAL(10, 2),
    CittaDestinataria NVARCHAR(100),
    IndirizzoDestinatario NVARCHAR(200),
    NominativoDestinatario NVARCHAR(100),
    Costo DECIMAL(10, 2),
    DataConsegnaPrevista DATETIME
);

CREATE TABLE AggiornamentiSpedizioni (
    IdAggiornamento INT PRIMARY KEY IDENTITY,
    Spedizione INT FOREIGN KEY REFERENCES Spedizioni(IdSpedizione),
    Stato NVARCHAR(50),
    Luogo NVARCHAR(100),
    Descrizione NVARCHAR(500),
    DataAggiornamento DATETIME
);